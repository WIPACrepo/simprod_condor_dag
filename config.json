{
  "difplus":null,
  "tasks":[
    {
      "requirements":{
        "memory":2,
        "disk":8,
        "time":2
      },
      "name":"generate",
      "parameters":{},
      "resources":[],
      "depends":[],
      "batchsys":null,
      "projects":[],
      "classes":[],
      "data":[],
      "trays":[
        {
          "name":"corsika",
          "parameters":{},
          "modules":[
            {
              "src":"",
              "name":"",
              "env_clear":true,
              "args":{
                "eprimarymin":"$steering(CORSIKA::eprimarymin)",
                "corsikaVersion":"76900g",
                "CORSIKAseed":"$steering(CORSIKA::seed)",
                "RunCorsika":true,
                "seed":"$steering(seed)",
                "HistogramFilename":"histo.pkl",
                "CutoffType":"EnergyPerNucleon",
                "UsePipe":true,
                "outputfile":"corsika.$(job).i3.zst",
                "eprimarymax":"$steering(CORSIKA::eprimarymax)",
                "oversampling":0,
                "procnum":"$(job)",
                "compress":true,
                "pnorm":[
                  5,
                  2.25,
                  1.1,
                  1.2,
                  1
                ],
                "RepoURL":"http://prod-exe.icecube.wisc.edu/",
                "nproc":"$(jobs_submitted)",
                "gcdfile":"$(gcdfile)",
                "nshowers":"$steering(CORSIKA::showers)",
                "MakeFIFO":false,
                "pgam":[
                  2.65,
                  2.6,
                  2.6,
                  2.6,
                  2.6
                ],
                "summaryfile":"summary.json",
                "EnableHistogram":true
              },
              "env_shell":"/cvmfs/icecube.opensciencegrid.org/py2-v3.0.1/icetray-env simulation/V06-01-01",
              "projects":[],
              "classes":[],
              "running_class":"icecube.simprod.modules.Corsika5ComponentGenerator",
              "parameters":{},
              "data":[
              ],
              "resources":[]
            }
          ],
          "classes":[],
          "projects":[],
          "iterations":1,
          "data":[],
          "resources":[]
        }
      ]
    },
    {
      "requirements":{
        "gpu":1,
        "disk":6,
        "cpu":2,
        "memory":3.5
      },
      "name":"hits",
      "parameters":{},
      "resources":[],
      "depends":[
        "generate"
      ],
      "batchsys":null,
      "projects":[],
      "classes":[],
      "data":[],
      "trays":[
        {
          "name":"propagate",
          "parameters":{},
          "modules":[
            {
              "src":"",
              "name":"clsim",
              "env_clear":true,
              "args":{
                "UseGPUs":true,
                "outputfile":"signalhits.i3.zst",
                "IceModel":"$steering(IceModel)",
                "inputfilelist":[
                  "corsika.$(job).i3.zst"
                ],
                "IceModelLocation":"$steering(IceSimPath)/ice-models/resources/models/",
                "runmphitfilter":true,
                "efficiency":"$steering(DOMefficiency)",
                "seed":"$steering(seed)",
                "oversampling":"$steering(oversampling)",
                "nproc":"$(jobs_submitted)",
                "summaryfile":"summary.json",
                "totalenergytoprocess":7500000,
                "holeiceparametrization":"$steering(IceSimPath)/ice-models/resources/models/angsens_flasher/as.9",
                "gcdfile":"$(gcdfile)",
                "oversize":5,
                "procnum":"$(job)"
              },
              "env_shell":"/cvmfs/icecube.opensciencegrid.org/py2-v3.0.1/icetray-env simulation/V06-01-01",
              "projects":[],
              "classes":[],
              "running_class":"icecube.simprod.modules.ClSimResampleCorsika",
              "parameters":{},
              "data":[
              ],
              "resources":[]
            },
            {
              "src":"",
              "name":"polyplopia",
              "env_clear":true,
              "args":{
                "outputfile":"hits.$(job).i3.zst",
                "IceModel":"$steering(IceModel)",
                "oversize":5,
                "IceModelLocation":"$steering(IceSimPath)/ice-models/resources/models/",
                "procnum":"$(job)",
                "UseGPUs":true,
                "backgroundrate":5261.85,
                "efficiency":"$steering(DOMefficiency)",
                "seed":"$steering(seed)",
                "nproc":"$(jobs_submitted)",
                "totalenergytoprocess":7500000,
                "holeiceparametrization":"$steering(IceSimPath)/ice-models/resources/models/angsens_flasher/as.9",
                "gcdfile":"$(gcdfile)",
                "inputfile":"signalhits.i3.zst"
              },
              "env_shell":"/cvmfs/icecube.opensciencegrid.org/py2-v3.0.1/icetray-env simulation/V06-01-01",
              "projects":[],
              "classes":[],
              "running_class":"icecube.simprod.modules.PolyplopiaModule",
              "parameters":{},
              "data":[
              ],
              "resources":[]
            }
          ],
          "classes":[],
          "projects":[],
          "iterations":1,
          "data":[],
          "resources":[]
        }
      ]
    },
    {
      "requirements":{
        "memory":2.5
      },
      "name":"detector",
      "parameters":{},
      "resources":[],
      "depends":[
        "hits"
      ],
      "batchsys":null,
      "projects":[],
      "classes":[],
      "data":[],
      "trays":[
        {
          "name":"ic86",
          "parameters":{},
          "modules":[
            {
              "src":"",
              "name":"",
              "env_clear":true,
              "args":{
                "outputfile":"det.$(job).i3.zst",
                "ProcNum":"$(job)",
                "MCType":"$steering(mctype)",
                "UseLinearTree":true,
                "MCPrescale":"$steering(MCPrescale)",
                "EnableHistogram":false,
                "LowMem":true,
                "HistogramFilename":"histo.pkl",
                "SkipKeys":[
                  "SignalI3MCPEs",
                  "BackgroundI3MCPESeriesMap",
                  "I3MCPESeriesMap",
                  "I3MCPESeriesMapWithoutNoise"
                ],
                "NProc":"$(jobs_submitted)",
                "gcdfile":"$(gcdfile)",
                "inputfile":"hits.$(job).i3.zst",
                "seed":"$steering(seed)",
                "RunID":"$steering(CORSIKA::run)"
              },
              "env_shell":"/cvmfs/icecube.opensciencegrid.org/py2-v3.0.1/icetray-env simulation/V06-01-01",
              "projects":[],
              "classes":[],
              "running_class":"icecube.simprod.modules.IC86",
              "parameters":{},
              "data":[
              ],
              "resources":[]
            }
          ],
          "classes":[],
          "projects":[],
          "iterations":1,
          "data":[],
          "resources":[]
        }
      ]
    },
    {
      "requirements":{
        "memory":3
      },
      "name":"filtering",
      "parameters":{},
      "resources":[],
      "depends":[
        "detector"
      ],
      "batchsys":null,
      "projects":[],
      "classes":[],
      "data":[],
      "trays":[
        {
          "name":"L1",
          "parameters":{},
          "modules":[
            {
              "src":"/cvmfs/icecube.opensciencegrid.org/py2-v3.0.1/metaprojects/icerec/V05-02-00/filterscripts/resources/scripts/SimulationFiltering.py",
              "name":"",
              "env_clear":true,
              "args":{
                "input":"det.$(job).i3.zst",
                "photonicsdir":"/cvmfs/icecube.opensciencegrid.org/data/photon-tables",
                "output":"$steering(FILTER::infile)",
                "gcd":"$(gcdfilel2)",
                "MinBiasPrescale":500
              },
              "env_shell":"/cvmfs/icecube.opensciencegrid.org/py2-v3.0.1/icetray-env icerec/V05-02-00",
              "projects":[],
              "classes":[],
              "running_class":"",
              "parameters":{},
              "data":[
              ],
              "resources":[]
            }
          ],
          "classes":[],
          "projects":[],
          "iterations":1,
          "data":[],
          "resources":[]
        },
        {
          "name":"L2",
          "parameters":{},
          "modules":[
            {
              "src":"/cvmfs/icecube.opensciencegrid.org/py2-v3.0.1/metaprojects/icerec/V05-02-00/filterscripts/resources/scripts/offlineL2/process.py",
              "name":"",
              "env_clear":true,
              "args":{
                "input":"$steering(FILTER::infile)",
                "photonicsdir":"/cvmfs/icecube.opensciencegrid.org/data/photon-tables",
                "simulation":null,
                "gcd":"$(gcdfilel2)",
                "output":"Level2.$(job).i3.zst"
              },
              "env_shell":"/cvmfs/icecube.opensciencegrid.org/py2-v3.0.1/icetray-env icerec/V05-02-00",
              "projects":[],
              "classes":[],
              "running_class":"",
              "parameters":{},
              "data":[
              ],
              "resources":[]
            }
          ],
          "classes":[],
          "projects":[],
          "iterations":1,
          "data":[],
          "resources":[]
        }
      ]
    }
  ],
  "description":"LE IC86.2016 CORSIKA-in-ice 5-component model Sibyll2.3c (CORSIKA 76900g) with weighted spectrum of E^-2.6, using Spice3.2 ClSim. Angular range of 0deg < theta < 89.99deg and energy range of 600GeV < Eprim < 3e4GeV. DOM oversize = 5",
  "dataset":20891,
  "parent_id":20881,
  "version":3,
  "options":{},
  "steering":{
    "batchsys":null,
    "data":[],
    "system":{},
    "parameters":{
      "spectrum":"E^-2.6",
      "ScriptsURL":"http://prod-exe.icecube.wisc.edu/svn/projects/filterscripts/releases/V17-04-01/resources/scripts/",
      "seed":"$(dataset)",
      "year":2016,
      "category":"CORSIKA-in-ice",
      "CORSIKA::showers":1000000,
      "subdirectory":"$sprintf('%07d-%07d',$eval($(job)//1000*1000),$eval($(job)//1000*1000+999))",
      "MCType":"corsika_weighted",
      "TARGET::2016_L2":"gsiftp://gridftp.icecube.wisc.edu/data/sim/IceCube/2016/filtered/level2/$(category)/$(dataset)/$(subdirectory)",
      "oversampling":50,
      "FILTER::infile":"PFFilt_$steering(outfile).i3.zst",
      "composition":"5-component",
      "photonpropagator":"CLSim",
      "IceModel":"spice_3.2",
      "CORSIKA::eprimarymax":"3e4",
      "mjd_16":57531,
      "DOMefficiency":1,
      "CORSIKA::seed":"$eval($eval($(dataset)*100000 + $(job))%100000000)",
      "outfile":"$sprintf('%s_corsika.%06d.%06d',$steering(geometry),$(dataset),$(job))",
      "gcdfilel2":"/cvmfs/icecube.opensciencegrid.org/data/GCD/GeoCalibDetectorStatus_2016.$steering(mjd_16)_V0.i3.gz",
      "gcdfile":"/cvmfs/icecube.opensciencegrid.org/data/GCD/GeoCalibDetectorStatus_AVG_55697-57531_PASS2_SPE_withStdNoise.i3.gz",
      "CORSIKA::eprimarymin":600,
      "IceSimPath":"/cvmfs/icecube.opensciencegrid.org/py2-v3.0.1/metaprojects/simulation/V06-01-01",
      "MCPrescale":1000,
      "geometry":"IC86.2016",
      "FILTER::outfile":"Level2_$steering(outfile).i3.zst",
      "TARGET::2016":"gsiftp://gridftp.icecube.wisc.edu/data/sim/IceCube/2016/generated/$(category)/$(dataset)/$(subdirectory)",
      "CORSIKA::run":"$eval($eval($(dataset)*100000 + $(job))%100000000 + 1)",
      "hadronicinteraction":"Sybill-2.3"
    },
    "resources":[]
  },
  "categories":[]
}
